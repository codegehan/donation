(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{50236:(e,l,s)=>{Promise.resolve().then(s.bind(s,96128))},96128:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>f});var t=s(95155),a=s(12115),r=s(34696),i=s(13901),n=s(20853),d=s(84267),o=s(57223),c=s(36972),x=s(20591),u=s(40767),p=s(50878),m=s(21610),h=s(92823);function g(e){let{calamityId:l,onSubmit:s,onClose:r}=e,[n,d]=(0,a.useState)(null),[o,x]=(0,a.useState)({skills:[],availability:"",experience:"",preferredRole:"",additionalInfo:""}),[u,m]=(0,a.useState)(!0),[h,g]=(0,a.useState)(!1),[b,y]=(0,a.useState)(""),[v,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{let e=await i.xg.getById(l);d(e.data.calamity||e.data)}catch(e){console.error("Error fetching calamity:",e),y("Failed to load disaster information")}finally{m(!1)}})()},[l]);let j=e=>{x(l=>({...l,skills:l.skills.includes(e)?l.skills.filter(l=>l!==e):[...l.skills,e]}))},N=e=>{let{name:l,value:s}=e.target;x(e=>({...e,[l]:s}))},w=async e=>{if(e.preventDefault(),!o.availability){y("Please select your availability");return}if(!o.preferredRole){y("Please select a preferred role");return}if(0===o.skills.length){y("Please select at least one skill");return}try{g(!0),y("");let e={calamityId:l,calamityName:null==n?void 0:n.name,availability:o.availability,preferredRole:o.preferredRole,skills:o.skills,experience:o.experience,additionalInfo:o.additionalInfo};await s(e),f(!0),setTimeout(()=>{r()},2e3)}catch(e){var t,a;console.error("Error submitting application:",e),y((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to submit application. Please try again.")}finally{g(!1)}};return u?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):v?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(p.A,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Application Submitted!"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Thank you for volunteering. Your application will be reviewed by the disaster relief team."})]}):(0,t.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"font-semibold text-blue-900 mb-2",children:["Applying for: ",null==n?void 0:n.name]}),(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:["Location: ",null==n?void 0:n.location]}),(null==n?void 0:n.affectedPeople)&&(0,t.jsxs)("p",{className:"text-sm text-blue-800 mt-1",children:["Affected: ",n.affectedPeople.toLocaleString()," families"]})]}),b&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[(0,t.jsx)(c.A,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,t.jsx)("p",{className:"text-red-800 text-sm",children:b})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Your Skills ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["First Aid/Medical","Search and Rescue","Heavy Equipment Operation","Logistics/Supply Chain","Communication","Leadership","Cooking/Food Preparation","Construction","Counseling/Mental Health Support","Transportation","Translation","Other"].map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:o.skills.includes(e),onChange:()=>j(e),className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:e})]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"availability",className:"block text-sm font-semibold text-gray-700 mb-2",children:["When can you start? ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)("select",{id:"availability",name:"availability",value:o.availability,onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"-- Select availability --"}),["Immediate (within 24 hours)","This week","This month","Flexible"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"preferredRole",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Preferred Role ",(0,t.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,t.jsxs)("select",{id:"preferredRole",name:"preferredRole",value:o.preferredRole,onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"-- Select preferred role --"}),["Field Worker","Relief Center Staff","Logistics Support","Medical Support","Data Entry","Community Liaison","Site Coordinator","Flexible"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"experience",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Relevant Experience"}),(0,t.jsx)("textarea",{id:"experience",name:"experience",value:o.experience,onChange:N,placeholder:"Tell us about any relevant volunteer or work experience...",rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"additionalInfo",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Additional Information"}),(0,t.jsx)("textarea",{id:"additionalInfo",name:"additionalInfo",value:o.additionalInfo,onChange:N,placeholder:"Any additional information you'd like us to know...",rows:"3",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:h,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition-colors font-semibold",children:h?"Submitting...":"Submit Application"})]})]})}var b=s(95003),y=s(16062),v=s(85524);function f(){return(0,t.jsx)(b.A,{allowedRoles:["donor","admin","relief_worker","volunteer"],children:(0,t.jsx)(j,{})})}function j(){let{user:e}=(0,r.A)(),[l,s]=(0,a.useState)(!1),[b,f]=(0,a.useState)([]),[j,N]=(0,a.useState)([]),[w,k]=(0,a.useState)([]),[A,C]=(0,a.useState)(!0),[S,L]=(0,a.useState)(""),[R,E]=(0,a.useState)("all"),[I,M]=(0,a.useState)("active"),[P,V]=(0,a.useState)(null),[z,F]=(0,a.useState)(!1),[q,T]=(0,a.useState)(!1),[O,H]=(0,a.useState)(null),[_,D]=(0,a.useState)(""),[B,U]=(0,a.useState)(!1),[W,X]=(0,a.useState)(null),[Y,Z]=(0,a.useState)({}),[G,J]=(0,a.useState)([]),K=(0,a.useCallback)(async()=>{try{var e,l;C(!0);let[s,t]=await Promise.all([i.xg.getAll(),i.rC.getAll()]),a=(null===(e=s.data)||void 0===e?void 0:e.calamities)||[],r=(null===(l=t.data)||void 0===l?void 0:l.applications)||[];f(a),k(r);let n=[...new Set(a.map(e=>e.type||"Other"))].filter(Boolean);J(n);let d={};a.forEach(e=>{let l=r.filter(l=>l.calamityId===e.id),s=l.filter(e=>"approved"===e.status),t=l.filter(e=>"pending"===e.status);d[e.id]={totalApplications:l.length,approvedVolunteers:s.length,pendingApplications:t.length,rejectedApplications:l.filter(e=>"rejected"===e.status).length,completedVolunteers:l.filter(e=>"completed"===e.status).length}}),Z(d),Q(a,I,R,S)}catch(e){console.error("Error fetching calamities:",e)}finally{C(!1)}},[I,R,S]);(0,a.useEffect)(()=>{K()},[]);let Q=(0,a.useCallback)((e,l,s,t)=>{let a=e;"all"!==l&&(a=a.filter(e=>{var s;return(null===(s=e.status)||void 0===s?void 0:s.toLowerCase())===l.toLowerCase()})),"all"!==s&&(a=a.filter(e=>e.type===s)),t.trim()&&(a=a.filter(e=>{var l,s,a;return(null===(l=e.name)||void 0===l?void 0:l.toLowerCase().includes(t.toLowerCase()))||(null===(s=e.location)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase()))||(null===(a=e.type)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))})),N(a)},[]);(0,a.useEffect)(()=>{Q(b,I,R,S)},[I,R,S,b,Q]);let $=(0,a.useCallback)(l=>w.some(s=>s.calamityId===l&&s.volunteerId===(null==e?void 0:e.id)),[w,e]),ee=async l=>{try{var s;await i.rC.create({...l,volunteerId:null==e?void 0:e.id,volunteerName:null==e?void 0:e.name,volunteerEmail:null==e?void 0:e.email,volunteerPhone:null==e?void 0:e.phone});let t=await i.rC.getAll(),a=(null===(s=t.data)||void 0===s?void 0:s.applications)||[];k(a),F(!1),V(null)}catch(e){console.error("Error submitting application:",e)}},el=async e=>{try{var l;await i.rC.approve(e);let s=await i.rC.getAll(),t=(null===(l=s.data)||void 0===l?void 0:l.applications)||[];k(t)}catch(e){console.error("Error approving application:",e)}},es=async e=>{try{var l;await i.rC.reject(e,_);let s=await i.rC.getAll(),t=(null===(l=s.data)||void 0===l?void 0:l.applications)||[];k(t),U(!1),D(""),X(null)}catch(e){console.error("Error rejecting application:",e)}};return A?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(y.A,{onMenuClick:()=>s(!l)}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(v.A,{isOpen:l,onClose:()=>s(!1)}),(0,t.jsxs)("main",{className:"flex-1 p-6 lg:p-8 overflow-x-hidden",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Disaster Relief Volunteer Opportunities"}),(0,t.jsx)("p",{className:"text-gray-600",children:"See which disasters need volunteers and apply to help in specific areas"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.A,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search by name or location...",value:S,onChange:e=>L(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("select",{value:I,onChange:e=>M(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[(0,t.jsx)("option",{value:"all",children:"All Statuses"}),(0,t.jsx)("option",{value:"active",children:"Active"}),(0,t.jsx)("option",{value:"ongoing",children:"Ongoing"}),(0,t.jsx)("option",{value:"resolved",children:"Resolved"})]}),(0,t.jsxs)("select",{value:R,onChange:e=>E(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[(0,t.jsx)("option",{value:"all",children:"All Areas"}),G.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[j.length," disaster",1!==j.length?"s":""]}),(0,t.jsx)(d.A,{className:"w-4 h-4 text-blue-600"})]})]}),j.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(l=>{var s,a,r;let i=Y[l.id]||{totalApplications:0,approvedVolunteers:0,pendingApplications:0},n=$(l.id),d=null===(s=w.find(s=>s.calamityId===l.id&&s.volunteerId===(null==e?void 0:e.id)))||void 0===s?void 0:s.status;return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow overflow-hidden",children:[(0,t.jsxs)("div",{className:"px-6 py-4 ".concat((null===(a=l.status)||void 0===a?void 0:a.toLowerCase())==="active"?"bg-red-50 border-l-4 border-red-500":"bg-yellow-50 border-l-4 border-yellow-500"),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-800 flex-1",children:l.name}),(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat((null===(r=l.status)||void 0===r?void 0:r.toLowerCase())==="active"?"bg-red-200 text-red-800":"bg-yellow-200 text-yellow-800"),children:l.status||"Active"})]}),(0,t.jsxs)("div",{className:"flex items-center text-gray-600 text-sm gap-1",children:[(0,t.jsx)(o.A,{className:"w-4 h-4"}),l.location]})]}),(0,t.jsxs)("div",{className:"px-6 py-4",children:[l.type&&(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs font-semibold px-2.5 py-0.5 rounded",children:l.type})}),l.affectedPeople&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-50 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-700",children:[(0,t.jsx)(c.A,{className:"w-4 h-4"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[l.affectedPeople.toLocaleString()," families affected"]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,t.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:i.approvedVolunteers}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Volunteers Approved"})]}),(0,t.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:i.pendingApplications}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Pending Applications"})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:i.completedVolunteers}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Completed Service"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:i.totalApplications}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Total Applications"})]})]}),l.description&&(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:l.description}),l.severity&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("div",{className:"text-xs text-gray-600 font-semibold mb-1",children:"Severity Level"}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full ".concat("critical"===l.severity?"bg-red-600 w-full":"high"===l.severity?"bg-orange-500 w-3/4":"medium"===l.severity?"bg-yellow-500 w-1/2":"bg-green-500 w-1/4")})}),(0,t.jsx)("div",{className:"text-xs text-gray-600 mt-1 capitalize",children:l.severity})]})]}),(0,t.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:(null==e?void 0:e.role)==="admin"?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:["Volunteers: ",i.approvedVolunteers," approved | ",i.pendingApplications," pending"]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("button",{onClick:()=>{H(l),T(!0)},className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold text-sm",children:"View Applications"})})]}):n?(0,t.jsxs)("div",{className:"px-4 py-2 rounded-lg text-center text-sm font-semibold ".concat("approved"===d?"bg-green-100 text-green-800":"rejected"===d?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:["Application ","pending"===d?"Pending":d]}):(0,t.jsxs)("button",{onClick:()=>{V(l.id),F(!0)},className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center gap-2",children:[(0,t.jsx)(x.A,{className:"w-4 h-4"}),"Apply as Volunteer"]})})]},l.id)})}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(c.A,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No disasters found"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Try adjusting your filters or check back later for new volunteer opportunities"})]}),z&&P&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Apply as Volunteer"}),(0,t.jsx)("button",{onClick:()=>{F(!1),V(null)},className:"text-gray-600 hover:text-gray-800",children:(0,t.jsx)(u.A,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)(g,{calamityId:P,onSubmit:ee,onClose:()=>{F(!1),V(null)}})})]})}),q&&O&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["Volunteer Applications - ",O.name]}),(0,t.jsx)("button",{onClick:()=>{T(!1),H(null)},className:"text-gray-600 hover:text-gray-800",children:(0,t.jsx)(u.A,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"p-6",children:w.filter(e=>e.calamityId===O.id).length>0?(0,t.jsx)("div",{className:"space-y-4",children:w.filter(e=>e.calamityId===O.id).map(e=>{var l,s;return(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:e.volunteerName}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.volunteerEmail}),e.volunteerPhone&&(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.volunteerPhone})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,t.jsx)("strong",{children:"Role:"})," ",e.preferredRole]}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold ".concat("approved"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-purple-100 text-purple-800"),children:(null===(l=e.status)||void 0===l?void 0:l.charAt(0).toUpperCase())+(null===(s=e.status)||void 0===s?void 0:s.slice(1))})]})]}),e.skills&&e.skills.length>0&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 font-semibold mb-2",children:"Skills:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.skills.map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:e},e))})]}),e.experience&&(0,t.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Experience:"})," ",e.experience]}),"pending"===e.status&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("button",{onClick:()=>el(e.id),className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold flex items-center justify-center gap-2",children:[(0,t.jsx)(p.A,{className:"w-4 h-4"}),"Accept"]}),(0,t.jsxs)("button",{onClick:()=>{X(e.id),U(!0)},className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center gap-2",children:[(0,t.jsx)(m.A,{className:"w-4 h-4"}),"Reject"]})]})]},e.id)})}):(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)(h.A,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),(0,t.jsx)("p",{children:"No applications for this disaster yet"})]})})]})}),B&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,t.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Reject Application"})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejection:"}),(0,t.jsx)("textarea",{value:_,onChange:e=>D(e.target.value),placeholder:"Reason for rejection...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none",rows:"4"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{U(!1),D(""),X(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>es(W),disabled:!_.trim(),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-gray-400 transition-colors font-semibold",children:"Reject"})]})]})})]})]})]})}},95003:(e,l,s)=>{"use strict";s.d(l,{A:()=>n});var t=s(95155),a=s(12115),r=s(76046),i=s(34696);function n(e){let{children:l,allowedRoles:s=[]}=e,n=(0,r.useRouter)(),{isAuthenticated:d,user:o,loading:c}=(0,i.A)();return((0,a.useEffect)(()=>{if(!c){if(!d()){n.push("/login");return}s.length>0&&!s.includes(null==o?void 0:o.role)&&n.push("/dashboard")}},[c,d,o,s,n]),c)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):d()&&(!(s.length>0)||s.includes(null==o?void 0:o.role))?l:null}},36972:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},35288:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},50878:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},14081:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},84267:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},30858:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},65236:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},57223:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},86710:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},63348:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},20853:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1466:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},92823:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},21610:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},40767:(e,l,s)=>{"use strict";s.d(l,{A:()=>t});let t=(0,s(82800).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{var l=l=>e(e.s=l);e.O(0,[568,422,696,465,441,517,358],()=>l(50236)),_N_E=e.O()}]);